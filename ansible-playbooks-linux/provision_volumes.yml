# provision_volumes.yml
#
# This Ansible playbook creates volumes with specified device types
# in the given destination directory.
#
# Usage:
#  ansible-playbook -i <inventory> <playbook>
#
# Example:
#  ansible-playbook -i inventories provision_volumes.yml
#  ansible-playbook -i inventories provision_volumes.yml -v
---
- name: Create volumes
  hosts: zPDT
  vars:
    dest_dir: "/home/ibmsys1/volumes-z31a"
    volumes_3390_27:
      - a3usr2
      - a3usr3
      - a3usr4
      - a3usr5
      - a3zcx2
    volumes_3390_9:
      - work0a

  tasks:
    - name: Create 3390-27 volumes
      command: "alcckd {{ dest_dir }}/{{ item }} -d3390-27"
      loop: "{{ volumes_3390_27 }}"

    - name: Create 3390-9 volumes
      command: "alcckd {{ dest_dir }}/{{ item }} -d3390-9"
      loop: "{{ volumes_3390_9 }}"
